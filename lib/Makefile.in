.PHONY: test clean install

SHELL       = @SHELL@
prefix      = @prefix@
exec_prefix = @exec_prefix@
bindir      = @bindir@
libdir      = @libdir@
srcdir      = @srcdir@
VPATH       = $(srcdir)
top_builddir = @top_builddir@
top_srcdir   = @top_srcdir@

GOSH        = @GOSH@
GAUCHE_CONFIG = @GAUCHE_CONFIG@
INSTALL     = @GAUCHE_INSTALL@
INSTALL_TYPE = @INSTALL_TYPE@
SCM_INSTALL_DIR = $(DESTDIR)`$(GAUCHE_CONFIG) --$(INSTALL_TYPE)libdir`

SCMFILES = gtk.scm gtk/gtkaux.scm gtk/gdkkeysyms.scm gtk/listener.scm \
           gtk/error-dialog.scm

CONFIG_GENERATED = Makefile

all : gtk/gdkkeysyms.scm

gtk/gdkkeysyms.scm : gen-keysyms.scm
	$(GOSH) ./gen-keysyms.scm

check :

install :
	$(INSTALL) -m 444 -T $(SCM_INSTALL_DIR) $(SCMFILES)

clean :
	rm -rf core *~ gtk/*~ gtk/gdkkeysyms.scm

distclean : clean
	rm -rf $(CONFIG_GENERATED)

maintainer-clean : clean
	rm -rf $(CONFIG_GENERATED)

